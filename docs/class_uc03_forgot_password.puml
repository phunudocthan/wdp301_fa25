@startuml
title UC03 - Forgot Password (Class Diagram)
skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam packageStyle rectangle
top to bottom direction
hide empty members

class User {
  id: string
}

class ForgotPasswordPage {
  openForgotPassword()
}

class AuthRouter {
  POST /auth/forgot-password
}

class PasswordController {
  requestReset(email: string) -> PasswordResetView
}

class PasswordResetView {
  emailSent
  expiresAt: Date
  maskedEmail: string
  delivery: string
}

class UserModel {
  findByEmail(email: string)
}

class ResetTokenModel {
  create(userId: string, expiresAt: Date)
}

class EmailService {
  sendReset(toEmail: string, token: string)
}

User -down-> ForgotPasswordPage
ForgotPasswordPage -down-> AuthRouter
AuthRouter -down-> PasswordController
PasswordController -down-> PasswordResetView
PasswordController -down-> UserModel
PasswordController -down-> ResetTokenModel
PasswordController -down-> EmailService

@enduml
